"use strict";(self["webpackChunkk_style"]=self["webpackChunkk_style"]||[]).push([[103],{9509:function(t,a){a.A={save(t){const a=JSON.stringify(t);localStorage.setItem("myFavorite",a)},get(){return JSON.parse(localStorage.getItem("myFavorite"))}}},1946:function(t,a,e){e.d(a,{A:function(){return F}});var s=e(6768),r=e(4232);const n=t=>((0,s.Qi)("data-v-0079a07c"),t=t(),(0,s.jt)(),t),o={class:"navbar navbar-expand-lg navbar-light sticky-top"},i={class:"container"},l=n((()=>(0,s.Lk)("a",{class:"logoLink navbar-brand",href:"#"},"K-style ",-1))),c=n((()=>(0,s.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s.Lk)("span",{class:"navbar-toggler-icon"})],-1))),d={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},u={class:"navbar-nav ms-auto"},p=n((()=>(0,s.Lk)("i",{class:"fa-solid fa-heart",style:{"font-size":"18px"}},null,-1))),v={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-circle bg-danger mt-2"},g=n((()=>(0,s.Lk)("span",{class:"visually-hidden"},"unread messages",-1))),k=n((()=>(0,s.Lk)("i",{class:"fa-solid fa-cart-shopping",style:{"font-size":"18px"}},null,-1))),h={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-circle bg-danger mt-2"},b=n((()=>(0,s.Lk)("span",{class:"visually-hidden"},"unread messages",-1)));function m(t,a,e,n,m,f){const L=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",o,[(0,s.Lk)("div",i,[l,c,(0,s.Lk)("div",d,[(0,s.Lk)("ul",u,[(0,s.bF)(L,{to:"/","exact-active-class":"active",class:"nav-link me-3"},{default:(0,s.k6)((()=>[(0,s.eW)("首頁")])),_:1}),(0,s.bF)(L,{to:"/userAllProducts",class:"nav-link me-3"},{default:(0,s.k6)((()=>[(0,s.eW)("所有商品")])),_:1}),(0,s.bF)(L,{to:"/userCheck",class:"nav-link me-3"},{default:(0,s.k6)((()=>[(0,s.eW)("訂單查詢")])),_:1}),(0,s.bF)(L,{to:"/userLike",class:"nav-link me-3 position-relative"},{default:(0,s.k6)((()=>[p,m.favoriteItems.length>0?((0,s.uX)(),(0,s.CE)("span",v,[(0,s.eW)((0,r.v_)(m.favoriteItems.length)+" ",1),g])):(0,s.Q3)("",!0)])),_:1}),(0,s.bF)(L,{to:"/userCart",class:"nav-link me-3 position-relative"},{default:(0,s.k6)((()=>[k,m.carts.length>0?((0,s.uX)(),(0,s.CE)("span",h,[(0,s.eW)((0,r.v_)(f.cartsNum)+" ",1),b])):(0,s.Q3)("",!0)])),_:1})])])])])}var f=e(1600),L=e(9509),y={data(){return{carts:[],favoriteItems:L.A.get("myFavorite")||[]}},methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/kstyle-api/cart";this.$http.get(t).then((t=>{t.data.success&&(this.carts=t.data.data.carts,console.log(this.carts))})).catch((t=>{this.$httpMessageState(t,"連線錯誤，請再試一次")}))},getFavorite(){this.favoriteItems=L.A.get()}},computed:{cartsNum(){let t=0;return this.carts.forEach((a=>{t+=a.qty})),t}},mounted(){f.A.on("updateCart",this.getCart),f.A.on("updateFavorite",this.getFavorite),this.getCart()}},w=e(1241);const x=(0,w.A)(y,[["render",m],["__scopeId","data-v-0079a07c"]]);var F=x},9103:function(t,a,e){e.r(a),e.d(a,{default:function(){return y}});var s=e(6768),r=e(5130);const n=t=>((0,s.Qi)("data-v-4d6522ab"),t=t(),(0,s.jt)(),t),o={class:"kv"},i={class:"container h-100"},l={class:"login col-md-5 p-5 border border-5 border-white rounded text-white"},c=n((()=>(0,s.Lk)("h2",{class:"h3 mb-3 font-weight-normal text-center border-bottom pb-3"},"管理員登入",-1))),d={key:0,class:"alert alert-danger d-block",role:"alert"},u={class:"mb-3"},p=n((()=>(0,s.Lk)("label",{for:"inputEmail",class:"my-2"},"Email",-1))),v={class:"mb-3"},g=n((()=>(0,s.Lk)("label",{for:"inputPassword",class:"my-2"},"Password",-1))),k=n((()=>(0,s.Lk)("div",{class:"text-end mt-4"},[(0,s.Lk)("button",{class:"btn text-white mt-2",type:"submit"},"登入")],-1)));function h(t,a,e,n,h,b){const m=(0,s.g2)("isLoading"),f=(0,s.g2)("UserNavbar");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(m,{active:h.isLoading},null,8,["active"]),(0,s.bF)(f),(0,s.Lk)("div",o,[(0,s.Lk)("div",i,[(0,s.Lk)("form",{class:"row justify-content-center align-content-center h-100",onSubmit:a[2]||(a[2]=(0,r.D$)(((...t)=>b.signIn&&b.signIn(...t)),["prevent"]))},[(0,s.Lk)("div",l,[c,h.loginError?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",d,"登入失敗")),(0,s.Lk)("div",u,[p,(0,s.bo)((0,s.Lk)("input",{type:"email",id:"inputEmail",class:"form-control",placeholder:"請輸入電子郵件",required:"",autofocus:"","onUpdate:modelValue":a[0]||(a[0]=t=>h.user.username=t)},null,512),[[r.Jo,h.user.username]])]),(0,s.Lk)("div",v,[g,(0,s.bo)((0,s.Lk)("input",{type:"password",id:"inputPassword",class:"form-control",placeholder:"請輸入密碼",required:"","onUpdate:modelValue":a[1]||(a[1]=t=>h.user.password=t)},null,512),[[r.Jo,h.user.password]])]),k])],32)])])],64)}e(4114);var b=e(1946),m={components:{UserNavbar:b.A},data(){return{user:{username:"",password:""},loginError:!0,isLoading:!1}},methods:{signIn(){const t="https://vue3-course-api.hexschool.io/admin/signin";this.isLoading=!0,this.$http.post(t,this.user).then((t=>{if(t.data.success){const{token:a,expired:e}=t.data;document.cookie=`hexToken=${a}; expires=${new Date(e)}`,this.$router.push("/backstage/control")}this.user.password="",this.loginError=!1,this.isLoading=!1}))}}},f=e(1241);const L=(0,f.A)(m,[["render",h],["__scopeId","data-v-4d6522ab"]]);var y=L}}]);
//# sourceMappingURL=103.e8ae30c4.js.map