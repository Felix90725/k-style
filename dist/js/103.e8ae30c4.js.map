{"version":3,"file":"js/103.e8ae30c4.js","mappings":"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","sources":["webpack://k-style/./src/methods/handleFavorites.js","webpack://k-style/./src/components/UserNavbar.vue","webpack://k-style/./src/components/UserNavbar.vue?53e3","webpack://k-style/./src/views/Login.vue","webpack://k-style/./src/views/Login.vue?240b"],"sourcesContent":["export default {\n  // 將資料存入localStorage\n  save(itemId) {\n    const favoriteId = JSON.stringify(itemId); // 把要存的itemId轉成JSON字串\n    localStorage.setItem('myFavorite', favoriteId);\n  },\n  // 從localStorage取出myFavorite資料\n  get() {\n    return JSON.parse(localStorage.getItem('myFavorite')); // 將JSON字串轉換成JavaScript的數值或是物件\n  },\n};\n","<!-- eslint-disable vuejs-accessibility/anchor-has-content -->\n<template>\n  <nav class=\"navbar navbar-expand-lg navbar-light sticky-top\">\n    <div class=\"container\">\n      <a class=\"logoLink navbar-brand\" href=\"#\">K-style </a>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNavAltMarkup\"\n        aria-controls=\"navbarNavAltMarkup\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n        <ul class=\"navbar-nav ms-auto\">\n          <router-link to=\"/\" exact-active-class=\"active\" class=\"nav-link me-3\">首頁</router-link>\n          <router-link to=\"/userAllProducts\" class=\"nav-link me-3\">所有商品</router-link>\n          <router-link to=\"/userCheck\" class=\"nav-link me-3\">訂單查詢</router-link>\n          <router-link to=\"/userLike\" class=\"nav-link me-3 position-relative\">\n            <i class=\"fa-solid fa-heart\" style=\"font-size: 18px\"></i>\n            <span\n              class=\"position-absolute top-0 start-100 translate-middle\n              badge rounded-circle bg-danger mt-2\"\n              v-if=\"favoriteItems.length > 0\"\n            >\n              {{ favoriteItems.length }}\n              <span class=\"visually-hidden\">unread messages</span>\n            </span>\n          </router-link>\n\n          <router-link to=\"/userCart\" class=\"nav-link me-3 position-relative\">\n            <i class=\"fa-solid fa-cart-shopping\" style=\"font-size: 18px\"></i>\n            <span\n              class=\"position-absolute top-0 start-100 translate-middle\n              badge rounded-circle bg-danger mt-2\" v-if=\"carts.length > 0\"\n            >\n              {{ cartsNum }}\n              <span class=\"visually-hidden\">unread messages</span>\n            </span>\n          </router-link>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\nimport handleFavorites from '@/methods/handleFavorites';\n\nexport default {\n  data() {\n    return {\n      carts: [],\n      favoriteItems: handleFavorites.get('myFavorite') || [],\n    };\n  },\n  methods: {\n    // 取得購物車資料\n    getCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.$http.get(api).then((res) => {\n        if (res.data.success) {\n          this.carts = res.data.data.carts;\n          console.log(this.carts);\n        }\n      })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n        });\n    },\n    // 取得愛心收藏資料\n    getFavorite() {\n      this.favoriteItems = handleFavorites.get();\n    },\n  },\n  computed: {\n    cartsNum() {\n      let cartNum = 0;\n      this.carts.forEach((e) => {\n        cartNum += e.qty;\n      });\n      return cartNum;\n    },\n  },\n  mounted() {\n    emitter.on('updateCart', this.getCart); // 觸發 getCart事件\n    emitter.on('updateFavorite', this.getFavorite); // 觸發 getFavorite 事件\n    this.getCart();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\nnav {\n  background-color: #e9e9e9;\n  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);\n  min-height: 70px;\n  .logoLink {\n    font-size: 28px;\n  }\n}\n</style>\n","import { render } from \"./UserNavbar.vue?vue&type=template&id=0079a07c&scoped=true\"\nimport script from \"./UserNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./UserNavbar.vue?vue&type=script&lang=js\"\n\nimport \"./UserNavbar.vue?vue&type=style&index=0&id=0079a07c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0079a07c\"]])\n\nexport default __exports__","<!-- eslint-disable vue/multi-word-component-names -->\n<!-- eslint-disable vuejs-accessibility/no-autofocus -->\n<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <!-- 暫時用user-navbar -->\n  <isLoading :active=\"isLoading\"></isLoading>\n  <UserNavbar></UserNavbar>\n  <!-- 下方表單 -->\n  <div class=\"kv\">\n    <div class=\"container h-100\">\n      <form class=\"row justify-content-center align-content-center h-100\" @submit.prevent=\"signIn\">\n        <div class=\"login col-md-5 p-5 border border-5 border-white rounded text-white\">\n          <h2 class=\"h3 mb-3 font-weight-normal text-center border-bottom pb-3\">管理員登入</h2>\n          <div class=\"alert alert-danger d-block\" role=\"alert\" v-if=\"!loginError\">登入失敗</div>\n          <div class=\"mb-3\">\n            <label for=\"inputEmail\" class=\"my-2\">Email</label>\n            <input\n              type=\"email\"\n              id=\"inputEmail\"\n              class=\"form-control\"\n              placeholder=\"請輸入電子郵件\"\n              required\n              autofocus\n              v-model=\"user.username\"\n            />\n          </div>\n          <div class=\"mb-3\">\n            <label for=\"inputPassword\" class=\"my-2\">Password</label>\n            <input\n              type=\"password\"\n              id=\"inputPassword\"\n              class=\"form-control\"\n              placeholder=\"請輸入密碼\"\n              required\n              v-model=\"user.password\"\n            />\n          </div>\n\n          <div class=\"text-end mt-4\">\n            <button class=\"btn text-white mt-2\" type=\"submit\">登入</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport UserNavbar from '@/components/UserNavbar.vue';\n\nexport default {\n  components: {\n    UserNavbar,\n  },\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n      loginError: true,\n      isLoading: false,\n    };\n  },\n  methods: {\n    // 登入\n    signIn() {\n      const api = `${process.env.VUE_APP_API}admin/signin`;\n      this.isLoading = true;\n      this.$http.post(api, this.user).then((res) => {\n        if (res.data.success) {\n          const { token, expired } = res.data;\n          document.cookie = `hexToken=${token}; expires=${new Date(expired)}`;\n          this.$router.push('/backstage/control');\n        }\n        this.user.password = '';\n        this.loginError = false;\n        this.isLoading = false;\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.kv {\n  height: 93.9vh;\n  background-image: url(\"../assets/img/login2.0.jpg\");\n  background-size: cover;\n  .login {\n    background-color: rgba(0, 0, 0, 0.5);\n    box-shadow: 0 0 30px #666666;\n    backdrop-filter: blur(5px);\n    input:focus {\n      box-shadow: 0px 0px 6px #666666;\n    }\n  }\n  button {\n    background-color: #6ab4fe;\n    &:hover {\n      background-color: #2f59ce;\n    }\n  }\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=4d6522ab&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=4d6522ab&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4d6522ab\"]])\n\nexport default __exports__"],"names":["save","itemId","favoriteId","JSON","stringify","localStorage","setItem","get","parse","getItem","class","_createElementVNode","href","type","id","style","key","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","_hoisted_7","$data","favoriteItems","length","_hoisted_8","_toDisplayString","_hoisted_9","_createCommentVNode","_hoisted_10","carts","_hoisted_11","$options","cartsNum","_hoisted_12","data","handleFavorites","methods","getCart","api","this","$http","then","res","success","console","log","catch","err","$httpMessageState","getFavorite","computed","cartNum","forEach","e","qty","mounted","emitter","on","__exports__","render","role","for","_Fragment","_component_isLoading","active","isLoading","_component_UserNavbar","onSubmit","_cache","_withModifiers","args","signIn","loginError","placeholder","required","autofocus","$event","user","username","password","components","UserNavbar","post","token","expired","document","cookie","Date","$router","push"],"sourceRoot":""}