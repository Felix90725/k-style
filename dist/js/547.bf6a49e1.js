"use strict";(self["webpackChunkk_style"]=self["webpackChunkk_style"]||[]).push([[547],{4547:function(t,a,s){s.r(a),s.d(a,{default:function(){return V}});var e=s(6768),l=s(4232);const d=t=>((0,e.Qi)("data-v-97b62d1c"),t=t(),(0,e.jt)(),t),c={class:"container my-5"},r=(0,e.Fv)('<ol class="shoppingProcess d-flex justify-content-center align-items-center p-0 mb-5" data-v-97b62d1c><li data-v-97b62d1c><span class="active" data-v-97b62d1c>1</span><h5 class="my-2" data-v-97b62d1c>購物車</h5><p class="text-warning" data-v-97b62d1c>請確認您的商品</p></li><i class="bi bi-arrow-right" data-v-97b62d1c></i><li data-v-97b62d1c><span class="active" data-v-97b62d1c>2</span><h5 class="my-2" data-v-97b62d1c>填寫資料</h5><p class="text-warning" data-v-97b62d1c>填寫訂購人相關資料</p></li><i class="bi bi-arrow-right" data-v-97b62d1c></i><li data-v-97b62d1c><span class="active" data-v-97b62d1c>3</span><h5 class="my-2" data-v-97b62d1c>訂單付款</h5><p class="text-warning" data-v-97b62d1c>確認資料並付款</p></li><i class="bi bi-arrow-right" data-v-97b62d1c></i><li data-v-97b62d1c><span data-v-97b62d1c>4</span><h5 class="my-2" data-v-97b62d1c>完成訂單</h5><p class="text-warning" data-v-97b62d1c>完成訂單</p></li></ol>',1),o={class:"row"},i={class:"col-12 col-lg-8"},n={class:"orderDetails me-md-4 mb-5 p-3 p-md-4"},v=d((()=>(0,e.Lk)("h4",{class:"mb-3"},"訂單明細",-1))),u={class:"table"},p=d((()=>(0,e.Lk)("thead",null,[(0,e.Lk)("tr",null,[(0,e.Lk)("th",{class:"col-6"},"品名"),(0,e.Lk)("th",{class:"col-2 text-end"},"數量"),(0,e.Lk)("th",{class:"col-4 text-end"},"單價")])],-1))),b={class:"text-end"},h={class:"text-end"},k={class:"orderData me-md-4 mb-5 p-3 p-md-4"},L=d((()=>(0,e.Lk)("h4",{class:"mb-3"},"訂單資訊",-1))),m={class:"table"},y=d((()=>(0,e.Lk)("th",{class:"col-5"},"訂單日期",-1))),g={class:"col-7 fw-normal"},f=d((()=>(0,e.Lk)("th",{class:"col-5"},"訂單編號",-1))),x={class:"col-7 fw-normal"},w=d((()=>(0,e.Lk)("th",{class:"col-5"},"付款狀態",-1))),_={key:0,class:"col-7 fw-normal text-success"},C={key:1,class:"col-7 fw-normal text-danger"},$=d((()=>(0,e.Lk)("th",{class:"col-5"},"姓名",-1))),E={key:0,class:"col-7"},X=d((()=>(0,e.Lk)("th",{class:"col-5"},"電話",-1))),I={key:0,class:"col-7"},F=d((()=>(0,e.Lk)("th",{class:"col-5"},"電子郵件",-1))),Q={key:0,class:"col-7"},A=d((()=>(0,e.Lk)("th",{class:"col-5"},"收件地址",-1))),T={key:0,class:"col-7"},D={class:"remark"},j={colspan:"2"},O={class:"fw-normal"},P={class:"col-12 col-lg-4"},K={class:"cart-total"},M=d((()=>(0,e.Lk)("h4",{class:"m-0 p-2 text-center bg-secondary text-light rounded-top-2"},"結帳付款",-1))),N={class:"card-body p-3 border"},q=(0,e.Fv)('<div class="orderAbout mb-5" data-v-97b62d1c><h5 class="pb-2 m-0" data-v-97b62d1c>訂單狀態</h5><p class="p-2 ps-0" style="font-size:16px;" data-v-97b62d1c> 訂單已成功建立，請確認您的訂單資訊是否正確，並且於下方選擇訂單付款方式。 </p></div><div class="orderAbout mb-5" data-v-97b62d1c><h5 class="pb-2 m-0" data-v-97b62d1c>請選擇付款方式</h5><select class="form-select mt-3" aria-label="Default select example" data-v-97b62d1c><option selected value="1" data-v-97b62d1c>信用卡付款</option><option value="2" data-v-97b62d1c>貨到付款</option><option value="3" data-v-97b62d1c>ibon付款</option><option value="3" data-v-97b62d1c>ATM付款</option></select></div>',2),z={class:"total d-flex align-items-center justify-content-between mt-3"},S=d((()=>(0,e.Lk)("h5",{class:"m-0"},"付款金額",-1))),W={class:"m-0 fw-normal"},B={class:"createOrder d-flex"};function G(t,a,s,d,G,H){const J=(0,e.g2)("isLoading");return(0,e.uX)(),(0,e.CE)(e.FK,null,[(0,e.bF)(J,{active:G.isLoading},null,8,["active"]),(0,e.Lk)("div",c,[r,(0,e.Lk)("div",o,[(0,e.Lk)("div",i,[(0,e.Lk)("div",n,[v,(0,e.Lk)("table",u,[p,(0,e.Lk)("tbody",null,[((0,e.uX)(!0),(0,e.CE)(e.FK,null,(0,e.pI)(G.order.products,(a=>((0,e.uX)(),(0,e.CE)("tr",{key:a.id},[(0,e.Lk)("td",null,(0,l.v_)(a.product.title),1),(0,e.Lk)("td",b,(0,l.v_)(a.qty),1),(0,e.Lk)("td",h,"NT$ "+(0,l.v_)(t.$filters.currency(a.total)),1)])))),128))])])]),(0,e.Lk)("div",k,[L,(0,e.Lk)("table",m,[(0,e.Lk)("tbody",null,[(0,e.Lk)("tr",null,[y,(0,e.Lk)("td",g,(0,l.v_)(t.$filters.date(G.order.create_at)),1)]),(0,e.Lk)("tr",null,[f,(0,e.Lk)("td",x,(0,l.v_)(G.order.id),1)]),(0,e.Lk)("tr",null,[w,G.order.is_paid?((0,e.uX)(),(0,e.CE)("td",_," 已付款 ")):((0,e.uX)(),(0,e.CE)("td",C," 尚未付款 "))]),(0,e.Lk)("tr",null,[$,G.order.user?((0,e.uX)(),(0,e.CE)("td",E,(0,l.v_)(G.order.user.name),1)):(0,e.Q3)("",!0)]),(0,e.Lk)("tr",null,[X,G.order.user?((0,e.uX)(),(0,e.CE)("td",I,(0,l.v_)(G.order.user.tel),1)):(0,e.Q3)("",!0)]),(0,e.Lk)("tr",null,[F,G.order.user?((0,e.uX)(),(0,e.CE)("td",Q,(0,l.v_)(G.order.user.email),1)):(0,e.Q3)("",!0)]),(0,e.Lk)("tr",null,[A,G.order.user?((0,e.uX)(),(0,e.CE)("td",T,(0,l.v_)(G.order.user.address),1)):(0,e.Q3)("",!0)]),(0,e.Lk)("tr",D,[(0,e.Lk)("th",j,[(0,e.eW)(" 訂單備註 : "),(0,e.Lk)("span",O,(0,l.v_)(G.order.message),1)])])])])])]),(0,e.Lk)("div",P,[(0,e.Lk)("div",K,[M,(0,e.Lk)("div",N,[q,(0,e.Lk)("div",z,[S,(0,e.Lk)("span",W,"NT$ "+(0,l.v_)(t.$filters.currency(G.order.total)),1)])]),(0,e.Lk)("div",B,[(0,e.Lk)("button",{type:"submit",form:"customerData",class:"btn btn-dark w-100 rounded-0 rounded-bottom-2",onClick:a[0]||(a[0]=t=>H.goToPay())}," 進行付款 ")])])])])])],64)}s(4114);var H=s(1600),J={data(){return{isLoading:!1,orderId:"",cart:{},order:{},allQty:0}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/kstyle-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,this.order=t.data.order}))},goToPay(){const t=`https://vue3-course-api.hexschool.io/api/kstyle-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t,this.orderId).then((t=>{this.isLoading=!1,H.A.emit("updateCart"),this.$httpMessageState(t,"付款"),this.$router.push("/userFinish")}))}},created(){this.orderId=this.$route.params.order_id,this.getOrder()}},R=s(1241);const U=(0,R.A)(J,[["render",G],["__scopeId","data-v-97b62d1c"]]);var V=U}}]);
//# sourceMappingURL=547.bf6a49e1.js.map