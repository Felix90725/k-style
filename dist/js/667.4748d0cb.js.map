{"version":3,"file":"js/667.4748d0cb.js","mappings":"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","sources":["webpack://k-style/./src/views/UserDetail.vue","webpack://k-style/./src/views/UserDetail.vue?82ad"],"sourcesContent":["<!-- eslint-disable vuejs-accessibility/label-has-for -->\n<template>\n  <isLoading :active=\"isLoading\"></isLoading>\n  <div class=\"container my-5\">\n    <ol class=\"shoppingProcess d-flex justify-content-center align-items-center p-0 mb-5\">\n      <li>\n        <span class=\"active\">1</span>\n        <h5 class=\"my-2\">購物車</h5>\n        <p class=\"text-warning\">請確認您的商品</p>\n      </li>\n      <i class=\"bi bi-arrow-right\"></i>\n      <li>\n        <span class=\"active\">2</span>\n        <h5 class=\"my-2\">填寫資料</h5>\n        <p class=\"text-warning\">填寫訂購人相關資料</p>\n      </li>\n      <i class=\"bi bi-arrow-right\"></i>\n      <li>\n        <span>3</span>\n        <h5 class=\"my-2\">訂單付款</h5>\n        <p class=\"text-warning\">確認資料並付款</p>\n      </li>\n      <i class=\"bi bi-arrow-right\"></i>\n      <li>\n        <span>4</span>\n        <h5 class=\"my-2\">完成訂單</h5>\n        <p class=\"text-warning\">完成訂單</p>\n      </li>\n    </ol>\n    <div class=\"row\">\n      <div class=\"col-12 col-lg-8\">\n        <h3><i class=\"fa-solid fa-user me-2\"></i>顧客資料</h3>\n        <div class=\"customerData\">\n          <v-form v-slot=\"{ errors }\" id=\"customerData\" @submit=\"createOrder()\">\n            <div class=\"my-3\">\n              <label for=\"name\" class=\"form-label mb-2\"\n                >姓名 <span class=\"text-danger\">*</span></label\n              >\n              <v-field\n                id=\"name\"\n                name=\"顧客姓名\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入您的姓名\"\n                :class=\"{ 'is-invalid': errors['顧客姓名'] }\"\n                rules=\"required\"\n                v-model=\"form.user.name\"\n              ></v-field>\n              <error-message name=\"顧客姓名\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"phone\" class=\"form-label mb-2\"\n                >電話 <span class=\"text-danger\">*</span></label\n              >\n              <v-field\n                id=\"phone\"\n                name=\"phone\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入您的手機電話號碼\"\n                :class=\"{ 'is-invalid': errors['phone'] }\"\n                :rules=\"isPhone\"\n                v-model=\"form.user.tel\"\n              ></v-field>\n              <error-message name=\"phone\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"email\" class=\"form-label mb-2\"\n                >Email <span class=\"text-danger\">*</span></label\n              >\n              <v-field\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                class=\"form-control\"\n                placeholder=\"請輸入 Email\"\n                :class=\"{ 'is-invalid': errors['email'] }\"\n                rules=\"email|required\"\n                v-model=\"form.user.email\"\n              ></v-field>\n              <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"address\" class=\"form-label mb-2\">\n                收件地址 <span class=\"text-danger\">*</span>\n              </label>\n              <v-field\n                id=\"address\"\n                name=\"收件地址\"\n                type=\"address\"\n                class=\"form-control\"\n                placeholder=\"請輸入收件地址\"\n                :class=\"{ 'is-invalid': errors['收件地址'] }\"\n                rules=\"required\"\n                v-model=\"form.user.address\"\n              ></v-field>\n              <error-message name=\"收件地址\" class=\"invalid-feedback\"></error-message>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"message\" class=\"form-label mb-2\">訂單備註</label>\n              <textarea\n                type=\"text\"\n                class=\"form-control\"\n                id=\"message\"\n                v-model=\"form.message\"\n                style=\"min-height: 150px\"\n              ></textarea>\n            </div>\n          </v-form>\n        </div>\n      </div>\n      <div class=\"col-12 col-lg-4\">\n        <div class=\"cart-total\">\n          <h4 class=\"m-0 p-2 text-center bg-secondary text-light rounded-top-2\">訂單資訊</h4>\n          <div class=\"card-body p-3 border\">\n            <table class=\"table m-0\">\n              <thead>\n                <tr>\n                  <th scope=\"col\">商品名稱</th>\n                  <th scope=\"col\" class=\"text-end\" style=\"width: 4rem\">數量</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr v-for=\"item in cart.carts\" :key=\"item.id\">\n                  <td>{{ item.product.title }}</td>\n                  <td class=\"text-end\">{{ item.qty }}</td>\n                </tr>\n              </tbody>\n            </table>\n            <div class=\"border-bottom pt-3 pb-3\">\n              <div class=\"Subtotal d-flex justify-content-between align-items-center\">\n                <h5 class=\"mb-0 fw-normal\">小計</h5>\n                <p class=\"mb-0\">NT$ {{ $filters.currency(cart.total) }}</p>\n              </div>\n              <div\n                class=\"d-flex align-items-center justify-content-between text-danger mt-2\"\n                v-if=\"cart.total != cart.final_total\"\n              >\n                <h5 class=\"m-0 fw-normal\">折價劵折扣</h5>\n                <span class=\"m-0 fw-normal\">\n                  -NT$ {{ $filters.currency(cart.total - cart.final_total) }}\n                </span>\n              </div>\n            </div>\n            <div class=\"total d-flex align-items-center justify-content-between mt-3\">\n              <h5 class=\"m-0 fw-normal\">合計</h5>\n              <span class=\"m-0 fw-normal\">NT$ {{ $filters.currency(cart.final_total) }}</span>\n            </div>\n          </div>\n          <div class=\"createOrder d-flex\">\n            <a\n              href=\"/#/userCart\"\n              class=\"btn btn-outline-secondary w-100\"\n              style=\"border-radius: 0; border-bottom-left-radius: 0.25rem\"\n              >回上一步</a\n            >\n            <button\n              type=\"submit\"\n              form=\"customerData\"\n              class=\"btn btn-dark w-100\"\n              style=\"border-radius: 0; border-bottom-right-radius: 0.25rem\"\n            >\n              建立訂單\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n      cart: {}, // 購物車資料\n      isLoading: false,\n    };\n  },\n  methods: {\n    // VeeValidate 電話規則\n    isPhone(value) {\n      const phoneNumber = /^(09)[0-9]{8}$/;\n      return phoneNumber.test(value) ? true : '請輸入正確的手機號碼';\n    },\n    // 送出顧客表單\n    createOrder() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\n      this.isLoading = true;\n      this.$http.post(api, { data: this.form }).then((res) => {\n        this.isLoading = false;\n        this.$router.push(`/userPay/${res.data.orderId}`);\n        // console.log('createOrder', res);\n      });\n    },\n    // 取得購物車資料\n    getCart() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        this.cart = res.data.data;\n        console.log('getCart', res);\n      });\n    },\n  },\n  created() {\n    this.getCart();\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  font-size: 14px;\n}\n.cart-total {\n  h5,\n  p,\n  span,\n  label {\n    font-size: 18px;\n  }\n  h4,\n  a,\n  button {\n    font-size: 20px;\n  }\n  .table {\n    th {\n      font-size: 18px;\n    }\n  }\n}\n.shoppingProcess {\n  list-style: none;\n  li {\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    width: 25%;\n    .active {\n      background-color: #424242;\n      color: #fff;\n    }\n    span {\n      width: 40px;\n      height: 40px;\n      border-radius: 50%;\n      color: #424242;\n      font-size: 22px;\n      border: 2px solid #424242;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin: auto;\n      line-height: 0;\n      position: relative;\n    }\n  }\n}\ninput {\n  border: 1px solid #888888;\n  border-radius: 0;\n  border-bottom: 1px solid #888888;\n  box-shadow: 0;\n  &:focus {\n    border: 1px solid #888888;\n    outline: none;\n    box-shadow: 0px 0px 3px #666666;\n    border-radius: 3px;\n  }\n}\ntextarea {\n  border: 1px solid #888888;\n  border-radius: 3px;\n  box-shadow: 0;\n  &:focus {\n    border: 1px solid #888888;\n    outline: none;\n    box-shadow: 0px 0px 3px #666666;\n    border-radius: 3px;\n  }\n}\n@media screen and (max-width: 767px) {\n  .shoppingProcess {\n    p {\n      display: none;\n    }\n    h5 {\n      font-size: 16px;\n    }\n  }\n}\n</style>\n","import { render } from \"./UserDetail.vue?vue&type=template&id=21e63d20&scoped=true\"\nimport script from \"./UserDetail.vue?vue&type=script&lang=js\"\nexport * from \"./UserDetail.vue?vue&type=script&lang=js\"\n\nimport \"./UserDetail.vue?vue&type=style&index=0&id=21e63d20&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-21e63d20\"]])\n\nexport default __exports__"],"names":["class","_createStaticVNode","_createElementVNode","_createTextVNode","for","scope","style","key","href","type","form","_createElementBlock","_Fragment","_createVNode","_component_isLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_component_v_form","id","onSubmit","_cache","$event","$options","createOrder","default","_withCtx","errors","_hoisted_7","_hoisted_8","_component_v_field","name","_normalizeClass","placeholder","rules","modelValue","user","_component_error_message","_hoisted_9","_hoisted_10","isPhone","tel","_hoisted_11","_hoisted_12","email","_hoisted_13","_hoisted_14","address","_hoisted_15","_hoisted_16","message","_","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_renderList","cart","carts","item","_toDisplayString","product","title","_hoisted_23","qty","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_ctx","$filters","currency","total","final_total","_hoisted_28","_hoisted_29","_hoisted_30","_createCommentVNode","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","data","methods","value","phoneNumber","test","api","this","$http","post","then","res","$router","push","orderId","getCart","get","console","log","created","__exports__","render"],"sourceRoot":""}