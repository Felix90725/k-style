"use strict";(self["webpackChunkk_style"]=self["webpackChunkk_style"]||[]).push([[687],{7687:function(e,t,l){l.r(t),l.d(t,{default:function(){return te}});var r=l(6768),s=l(4232);const d=e=>((0,r.Qi)("data-v-2c8bdeeb"),e=e(),(0,r.jt)(),e),a={class:"container my-5"},n=d((()=>(0,r.Lk)("h2",{class:"pb-4"},[(0,r.Lk)("i",{class:"bi bi-card-checklist me-2"}),(0,r.eW)("您的購買清單")],-1))),o={class:"table"},i=d((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"orderId"},"訂單編號"),(0,r.Lk)("th",null,"訂購日期"),(0,r.Lk)("th",null,"總金額"),(0,r.Lk)("th",{class:"text-center"},"付款狀態"),(0,r.Lk)("th",{class:"text-center"},"詳細")])],-1))),u={class:"orderId"},c={class:"text-center"},k={key:0,class:"text-success"},L={key:1,class:"text-danger"},h={class:"text-center"},b=["onClick"];function p(e,t,l,d,p,m){const v=(0,r.g2)("isLoading"),y=(0,r.g2)("UserOrderModal");return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.bF)(v,{active:p.isLoading},null,8,["active"]),(0,r.Lk)("div",a,[n,(0,r.Lk)("table",o,[i,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(p.filteredOrders,(t=>((0,r.uX)(),(0,r.CE)("tr",{class:"align-middle",key:t.id},[(0,r.Lk)("td",u,(0,s.v_)(t.id),1),(0,r.Lk)("td",null,(0,s.v_)(e.$filters.date(t.create_at)),1),(0,r.Lk)("td",null,(0,s.v_)(e.$filters.currency(t.total)),1),(0,r.Lk)("td",c,[t.is_paid?((0,r.uX)(),(0,r.CE)("span",k,"已付款")):((0,r.uX)(),(0,r.CE)("span",L,"未付款"))]),(0,r.Lk)("td",h,[(0,r.Lk)("button",{class:"btn btn-secondary",type:"button",onClick:e=>m.openOrder(t)}," 查看詳情 ",8,b)])])))),128))])])]),(0,r.bF)(y,{ref:"userOrderModal",order:p.tempOrder},null,8,["order"])],64)}const m={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",ref:"modal"},v={class:"modal-dialog modal-lg",role:"document"},y={class:"modal-content border-0"},_=(0,r.Lk)("div",{class:"modal-header bg-warning text-white"},[(0,r.Lk)("h5",{class:"modal-title ms-2",id:"exampleModalLabel"},"訂單細節"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),g={class:"modal-body"},f={class:"row"},x={class:"col-12"},C=(0,r.Lk)("h3",null,"用戶資料",-1),O={class:"table"},E={key:0},X=(0,r.Lk)("th",{style:{width:"100px"}},"姓名",-1),$=(0,r.Lk)("th",null,"Email",-1),w=(0,r.Lk)("th",null,"電話",-1),M=(0,r.Lk)("th",null,"地址",-1),F={class:"col-12"},I=(0,r.Lk)("h3",null,"訂單細節",-1),A={class:"table"},K=(0,r.Lk)("th",{style:{width:"100px"}},"訂單編號",-1),j=(0,r.Lk)("th",null,"下單時間",-1),Q=(0,r.Lk)("th",null,"付款時間",-1),U={key:0},q={key:1},N=(0,r.Lk)("th",null,"付款狀態",-1),T={key:0,class:"text-success"},W={key:1,class:"text-muted"},z=(0,r.Lk)("th",null,"總金額",-1),B=(0,r.Lk)("h3",null,"選購商品",-1),D={class:"table"},G={class:"text-end"},H=(0,r.Lk)("div",{class:"modal-footer bg-warning"},[(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"取消")],-1);function J(e,t,l,d,a,n){return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("div",v,[(0,r.Lk)("div",y,[_,(0,r.Lk)("div",g,[(0,r.Lk)("div",f,[(0,r.Lk)("div",x,[C,(0,r.Lk)("table",O,[l.order.user?((0,r.uX)(),(0,r.CE)("tbody",E,[(0,r.Lk)("tr",null,[X,(0,r.Lk)("td",null,(0,s.v_)(l.order.user.name),1)]),(0,r.Lk)("tr",null,[$,(0,r.Lk)("td",null,(0,s.v_)(l.order.user.email),1)]),(0,r.Lk)("tr",null,[w,(0,r.Lk)("td",null,(0,s.v_)(l.order.user.tel),1)]),(0,r.Lk)("tr",null,[M,(0,r.Lk)("td",null,(0,s.v_)(l.order.user.address),1)])])):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",F,[I,(0,r.Lk)("table",A,[(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",null,[K,(0,r.Lk)("td",null,(0,s.v_)(l.order.id),1)]),(0,r.Lk)("tr",null,[j,(0,r.Lk)("td",null,(0,s.v_)(e.$filters.date(l.order.create_at)),1)]),(0,r.Lk)("tr",null,[Q,(0,r.Lk)("td",null,[l.order.is_paid?((0,r.uX)(),(0,r.CE)("span",U,(0,s.v_)(e.$filters.date(l.order.paid_date)),1)):((0,r.uX)(),(0,r.CE)("span",q,"時間不正確"))])]),(0,r.Lk)("tr",null,[N,(0,r.Lk)("td",null,[l.order.is_paid?((0,r.uX)(),(0,r.CE)("strong",T,"已付款")):((0,r.uX)(),(0,r.CE)("span",W,"尚未付款"))])]),(0,r.Lk)("tr",null,[z,(0,r.Lk)("td",null,(0,s.v_)(e.$filters.currency(l.order.total)),1)])])]),B,(0,r.Lk)("table",D,[(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.order.products,(t=>((0,r.uX)(),(0,r.CE)("tr",{key:t.id},[(0,r.Lk)("th",null,(0,s.v_)(t.product.title),1),(0,r.Lk)("td",null,(0,s.v_)(t.qty)+" / "+(0,s.v_)(t.product.unit),1),(0,r.Lk)("td",G,"NT$ "+(0,s.v_)(e.$filters.currency(t.total)),1)])))),128))])])])])]),H])])],512)}var P=l(3286),R={props:{order:{type:Object,default(){return{}}}},data(){return{modal:{}}},mixins:[P.A]},S=l(1241);const V=(0,S.A)(R,[["render",J]]);var Y=V,Z={components:{UserOrderModal:Y},data(){return{isLoading:!1,email:"",orders:[],tempOrder:{},filteredOrders:[],paginatedOrders:[],pagination:{},page:1}},methods:{getOrder(e=1){const t=`https://vue3-course-api.hexschool.io/api/kstyle-api/orders?page=${e}`;this.isLoading=!0,this.$http.get(t).then((e=>{this.isLoading=!1,this.orders=e.data.orders,this.filteredOrders=this.orders.filter((e=>e.user.email===this.email))}))},openOrder(e){this.tempOrder={...e},this.$refs.userOrderModal.showModal(),console.log(this.tempOrder)}},created(){this.getOrder(),this.email=this.$route.params.email_id}};const ee=(0,S.A)(Z,[["render",p],["__scopeId","data-v-2c8bdeeb"]]);var te=ee}}]);
//# sourceMappingURL=687.3f802386.js.map