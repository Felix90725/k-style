{"version":3,"file":"js/294.3805498f.js","mappings":"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","sources":["webpack://k-style/./src/views/frontend/UserCheckOrder.vue","webpack://k-style/./src/components/frontend/UserOrderModal.vue","webpack://k-style/./src/components/frontend/UserOrderModal.vue?da11","webpack://k-style/./src/views/frontend/UserCheckOrder.vue?3f0e"],"sourcesContent":["<template>\n  <isLoading :active=\"isLoading\" />\n  <div class=\"container my-5\">\n    <h2 class=\"pb-4\"><i class=\"bi bi-card-checklist me-2\"></i>您的購買清單</h2>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th class=\"orderId\">訂單編號</th>\n          <th>訂購日期</th>\n          <th>總金額</th>\n          <th class=\"text-center\">付款狀態</th>\n          <th class=\"text-center\">詳細</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr class=\"align-middle\" v-for=\"order in filteredOrders\" :key=\"order.id\">\n          <td class=\"orderId\">{{ order.id }}</td>\n          <td>{{ $filters.date(order.create_at) }}</td>\n          <td>{{ $filters.currency(order.total) }}</td>\n          <td class=\"text-center\">\n            <span class=\"text-success\" v-if=\"order.is_paid\">已付款</span>\n            <span class=\"text-danger\" v-else>未付款</span>\n          </td>\n          <td class=\"text-center\">\n            <button class=\"btn btn-secondary\" type=\"button\" @click=\"openOrder(order)\">\n              查看詳情\n            </button>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <UserOrderModal ref=\"userOrderModal\" :order=\"tempOrder\"></UserOrderModal>\n</template>\n\n<script>\nimport UserOrderModal from '@/components/frontend/UserOrderModal.vue';\n\nexport default {\n  components: {\n    UserOrderModal,\n  },\n  data() {\n    return {\n      isLoading: false,\n      email: '',\n      orders: [],\n      tempOrder: {},\n      filteredOrders: [],\n      paginatedOrders: [],\n      pagination: {},\n      page: 1,\n    };\n  },\n  methods: {\n    // 取得全部訂單列表\n    getOrder(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/orders?page=${page}`;\n      this.isLoading = true;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.orders = res.data.orders;\n          this.filteredOrders = this.orders\n            .filter((order) => order.user.email === this.email); // 篩選\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n\n    // 開啟詳細\n    openOrder(item) {\n      this.tempOrder = { ...item };\n      this.$refs.userOrderModal.showModal();\n    },\n\n    // 滾動到最上方\n    scrollToTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    },\n  },\n  created() {\n    this.scrollToTop();\n    this.getOrder();\n    this.email = this.$route.params.email_id;\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  .container {\n    max-width: 1000px;\n    min-height: 600px;\n  }\n  @media screen and (max-width: 768px) {\n    .container{\n      min-height: 670px;\n    }\n  }\n  @media screen and (max-width: 584px) {\n    .orderId {\n      display: none;\n      min-height: 600px;\n    }\n  }\n</style>\n","<template>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-lg\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-warning text-white\">\n          <h5 class=\"modal-title ms-2\" id=\"exampleModalLabel\">訂單細節</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-12 mb-4\">\n              <h3>用戶資料</h3>\n              <table class=\"table\">\n                <tbody v-if=\"order.user\">\n                  <tr>\n                    <th style=\"width: 100px\">姓名</th>\n                    <td>{{ order.user.name }}</td>\n                  </tr>\n                  <tr>\n                    <th>Email</th>\n                    <td>\n                      <a\n                        class=\"text-decoration-none\"\n                        :href=\"`mailto:${order.user.email}`\"\n                        style=\"color: #000000\"\n                      >\n                        {{ order.user.email }}\n                      </a>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>電話</th>\n                    <td>\n                      <a\n                        class=\"text-decoration-none\"\n                        :href=\"`tel:${order.user.tel}`\"\n                        style=\"color: #000000\"\n                      >\n                        {{ order.user.tel }}\n                      </a>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>地址</th>\n                    <td>{{ order.user.address }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-12 mb-4\">\n              <h3>訂單細節</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr>\n                    <th style=\"width: 100px\">訂單編號</th>\n                    <td>{{ order.id }}</td>\n                  </tr>\n                  <tr>\n                    <th>下單時間</th>\n                    <td>{{ $filters.date(order.create_at) }}</td>\n                  </tr>\n                  <tr>\n                    <th>付款時間</th>\n                    <td>\n                      <span v-if=\"order.is_paid\">\n                        {{ $filters.date(order.paid_date) }}\n                      </span>\n                      <span v-else>時間不正確</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>付款狀態</th>\n                    <td>\n                      <strong v-if=\"order.is_paid\" class=\"text-success\">已付款</strong>\n                      <span v-else class=\"text-danger\">尚未付款</span>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th>總金額</th>\n                    <td>\n                      {{ $filters.currency(order.total) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n            <div class=\"col-12\">\n              <h3>選購商品</h3>\n              <table class=\"table\">\n                <tbody>\n                  <tr v-for=\"item in order.products\" :key=\"item.id\">\n                    <th>{{ item.product.title }}</th>\n                    <td>{{ item.qty }} / {{ item.product.unit }}</td>\n                    <td class=\"text-end\">NT$ {{ $filters.currency(item.total) }}</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    order: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  data() {\n    return {\n      modal: {},\n    };\n  },\n  mixins: [modalMixin],\n};\n</script>\n\n<style lang=\"scss\" scoped>\n  table {\n    word-break: break-word; // 自動換行防止溢出\n  }\n</style>\n","import { render } from \"./UserOrderModal.vue?vue&type=template&id=78f379d7&scoped=true\"\nimport script from \"./UserOrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrderModal.vue?vue&type=script&lang=js\"\n\nimport \"./UserOrderModal.vue?vue&type=style&index=0&id=78f379d7&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78f379d7\"]])\n\nexport default __exports__","import { render } from \"./UserCheckOrder.vue?vue&type=template&id=551cf35b&scoped=true\"\nimport script from \"./UserCheckOrder.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheckOrder.vue?vue&type=script&lang=js\"\n\nimport \"./UserCheckOrder.vue?vue&type=style&index=0&id=551cf35b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-551cf35b\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createTextVNode","key","_createElementBlock","_Fragment","_createVNode","_component_isLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_renderList","filteredOrders","order","id","_hoisted_5","_toDisplayString","_ctx","$filters","date","create_at","currency","total","_hoisted_6","is_paid","_hoisted_7","_hoisted_8","_hoisted_9","type","onClick","$event","$options","openOrder","_hoisted_10","_component_UserOrderModal","ref","tempOrder","tabindex","role","style","$props","user","_hoisted_11","name","_hoisted_12","href","email","_hoisted_13","_hoisted_14","tel","_hoisted_15","_hoisted_16","address","_createCommentVNode","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","paid_date","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","products","item","product","title","qty","unit","_hoisted_32","props","Object","default","data","modal","mixins","modalMixin","__exports__","components","UserOrderModal","orders","paginatedOrders","pagination","page","methods","getOrder","api","this","$http","get","then","res","filter","catch","err","$httpMessageState","$refs","userOrderModal","showModal","scrollToTop","window","scrollTo","top","behavior","created","$route","params","email_id","render"],"sourceRoot":""}