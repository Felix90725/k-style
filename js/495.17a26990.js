"use strict";(self["webpackChunkk_style"]=self["webpackChunkk_style"]||[]).push([[495],{9733:function(t,a,e){e.r(a),e.d(a,{default:function(){return Z}});var s=e(6768),l=e(4232);const r=t=>((0,s.Qi)("data-v-36ce1882"),t=t(),(0,s.jt)(),t),c={class:"container my-5"},o=(0,s.Fv)('<ol class="shoppingProcess d-flex justify-content-center align-items-center p-0 mb-4 mt-2" data-v-36ce1882><li data-v-36ce1882><span data-v-36ce1882>1</span><h5 class="my-2" data-v-36ce1882>購物車</h5><p class="text-warning" data-v-36ce1882>請確認您的商品</p></li><i class="bi bi-arrow-right" data-v-36ce1882></i><li data-v-36ce1882><span data-v-36ce1882>2</span><h5 class="my-2" data-v-36ce1882>填寫資料</h5><p class="text-warning" data-v-36ce1882>填寫訂購人相關資料</p></li><i class="bi bi-arrow-right" data-v-36ce1882></i><li data-v-36ce1882><span class="active" data-v-36ce1882>3</span><h5 class="my-2" data-v-36ce1882>訂單付款</h5><p class="text-warning" data-v-36ce1882>確認資料並付款</p></li><i class="bi bi-arrow-right" data-v-36ce1882></i><li data-v-36ce1882><span data-v-36ce1882>4</span><h5 class="my-2" data-v-36ce1882>完成訂單</h5><p class="text-warning" data-v-36ce1882>完成訂單</p></li></ol>',1),d={class:"row"},i={class:"col-12 col-lg-8"},n={class:"orderDetails me-md-4 mb-3 p-3 p-md-4"},h=r((()=>(0,s.Lk)("h4",{class:"mb-3"},"訂單明細",-1))),p={class:"table"},u=r((()=>(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",{class:"col-6"},"品名"),(0,s.Lk)("th",{class:"col-2 text-end"},"數量"),(0,s.Lk)("th",{class:"col-4 text-end"},"單價")])],-1))),v={class:"text-end"},k={class:"text-end"},L={class:"orderData me-md-4 mb-5 p-3 p-md-4"},m=r((()=>(0,s.Lk)("h4",{class:"mb-3"},"訂單資訊",-1))),b={class:"table"},g=r((()=>(0,s.Lk)("th",{class:"col-5"},"訂單日期",-1))),y={class:"col-7 fw-normal"},f=r((()=>(0,s.Lk)("th",{class:"col-5"},"訂單編號",-1))),x={class:"col-7 fw-normal"},w=r((()=>(0,s.Lk)("th",{class:"col-5"},"付款狀態",-1))),_={key:0,class:"col-7 fw-normal text-success"},$={key:1,class:"col-7 fw-normal text-danger"},C=r((()=>(0,s.Lk)("th",{class:"col-5"},"姓名",-1))),T={key:0,class:"col-7"},E=r((()=>(0,s.Lk)("th",{class:"col-5"},"電話",-1))),X={key:0,class:"col-7"},I=["href"],A=r((()=>(0,s.Lk)("th",{class:"col-5"},"電子郵件",-1))),F={key:0,class:"col-7"},Q=["href"],D=r((()=>(0,s.Lk)("th",{class:"col-5"},"收件地址",-1))),M={key:0,class:"col-7"},P={class:"remark"},j={colspan:"2"},O={class:"fw-normal"},S={class:"col-12 col-lg-4"},K={class:"cart-total"},N=r((()=>(0,s.Lk)("h4",{class:"m-0 p-2 text-center bg-secondary text-light rounded-top-2"},"結帳付款",-1))),q={class:"card-body p-3 border"},z=(0,s.Fv)('<div class="orderAbout mb-5" data-v-36ce1882><h5 class="pb-2 m-0" data-v-36ce1882>訂單狀態</h5><p class="p-2 ps-0" style="font-size:16px;" data-v-36ce1882> 訂單已成功建立，請確認您的訂單資訊是否正確，並且於下方選擇訂單付款方式。 </p></div><div class="orderAbout mb-5" data-v-36ce1882><h5 class="pb-2 m-0" data-v-36ce1882>請選擇付款方式</h5><select class="form-select mt-3 rounded-1" aria-label="Default select example" data-v-36ce1882><option selected value="1" data-v-36ce1882>信用卡付款</option><option value="2" data-v-36ce1882>貨到付款</option><option value="3" data-v-36ce1882>ibon付款</option><option value="3" data-v-36ce1882>ATM付款</option></select></div>',2),W={class:"total d-flex align-items-center justify-content-between mt-3"},B=r((()=>(0,s.Lk)("h5",{class:"m-0"},"付款金額",-1))),G={class:"m-0 fw-normal"},H={class:"createOrder d-flex"};function J(t,a,e,r,J,R){const U=(0,s.g2)("isLoading");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(U,{active:J.isLoading},null,8,["active"]),(0,s.Lk)("div",c,[o,(0,s.Lk)("div",d,[(0,s.Lk)("div",i,[(0,s.Lk)("div",n,[h,(0,s.Lk)("table",p,[u,(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(J.order.products,(a=>((0,s.uX)(),(0,s.CE)("tr",{key:a.id},[(0,s.Lk)("td",null,(0,l.v_)(a.product.title),1),(0,s.Lk)("td",v,(0,l.v_)(a.qty),1),(0,s.Lk)("td",k,"NT$ "+(0,l.v_)(t.$filters.currency(a.total)),1)])))),128))])])]),(0,s.Lk)("div",L,[m,(0,s.Lk)("table",b,[(0,s.Lk)("tbody",null,[(0,s.Lk)("tr",null,[g,(0,s.Lk)("td",y,(0,l.v_)(t.$filters.date(J.order.create_at)),1)]),(0,s.Lk)("tr",null,[f,(0,s.Lk)("td",x,(0,l.v_)(J.order.id),1)]),(0,s.Lk)("tr",null,[w,J.order.is_paid?((0,s.uX)(),(0,s.CE)("td",_,"已付款")):((0,s.uX)(),(0,s.CE)("td",$,"尚未付款"))]),(0,s.Lk)("tr",null,[C,J.order.user?((0,s.uX)(),(0,s.CE)("td",T,(0,l.v_)(J.order.user.name),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("tr",null,[E,J.order.user?((0,s.uX)(),(0,s.CE)("td",X,[(0,s.Lk)("a",{class:"text-decoration-none",href:`tel:${J.order.user.tel}`,style:{color:"#000000"}},(0,l.v_)(J.order.user.tel),9,I)])):(0,s.Q3)("",!0)]),(0,s.Lk)("tr",null,[A,J.order.user?((0,s.uX)(),(0,s.CE)("td",F,[(0,s.Lk)("a",{class:"text-decoration-none",href:`mailto:${J.order.user.email}`,style:{color:"#000000"}},(0,l.v_)(J.order.user.email),9,Q)])):(0,s.Q3)("",!0)]),(0,s.Lk)("tr",null,[D,J.order.user?((0,s.uX)(),(0,s.CE)("td",M,(0,l.v_)(J.order.user.address),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("tr",P,[(0,s.Lk)("th",j,[(0,s.eW)(" 訂單備註："),(0,s.Lk)("span",O,(0,l.v_)(J.order.message),1)])])])])])]),(0,s.Lk)("div",S,[(0,s.Lk)("div",K,[N,(0,s.Lk)("div",q,[z,(0,s.Lk)("div",W,[B,(0,s.Lk)("span",G,"NT$ "+(0,l.v_)(t.$filters.currency(J.order.total)),1)])]),(0,s.Lk)("div",H,[(0,s.Lk)("button",{type:"button",form:"customerData",class:"btn btn-dark w-100 rounded-0 rounded-bottom-2",onClick:a[0]||(a[0]=(...t)=>R.goToPay&&R.goToPay(...t))}," 進行付款 ")])])])])])],64)}e(4114);var R=e(1600),U={data(){return{isLoading:!1,orderId:"",cart:{},order:{},allQty:0}},methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/kstyle-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.order=t.data.order,this.isLoading=!1})).catch((t=>{this.$httpMessageState(t,"連線錯誤，請再試一次"),this.isLoading=!1}))},goToPay(){const t=`https://vue3-course-api.hexschool.io/api/kstyle-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t,this.orderId).then((t=>{R.A.emit("updateCart"),this.$router.push("/userFinish"),this.isLoading=!1,this.$httpMessageState(t,"付款")})).catch((t=>{this.$httpMessageState(t,"連線錯誤，請再試一次"),this.isLoading=!1}))},scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}},created(){this.orderId=this.$route.params.order_id,this.getOrder(),this.scrollToTop(),R.A.emit("updateCart")}},V=e(1241);const Y=(0,V.A)(U,[["render",J],["__scopeId","data-v-36ce1882"]]);var Z=Y}}]);
//# sourceMappingURL=495.17a26990.js.map