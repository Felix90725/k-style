{"version":3,"file":"js/495.17a26990.js","mappings":"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","sources":["webpack://k-style/./src/views/frontend/UserPay.vue","webpack://k-style/./src/views/frontend/UserPay.vue?e20e"],"sourcesContent":["<template>\n  <isLoading :active=\"isLoading\" />\n  <div class=\"container my-5\">\n    <ol class=\"shoppingProcess d-flex justify-content-center align-items-center p-0 mb-4 mt-2\">\n      <li>\n        <span>1</span>\n        <h5 class=\"my-2\">購物車</h5>\n        <p class=\"text-warning\">請確認您的商品</p>\n      </li>\n      <i class=\"bi bi-arrow-right\"></i>\n      <li>\n        <span>2</span>\n        <h5 class=\"my-2\">填寫資料</h5>\n        <p class=\"text-warning\">填寫訂購人相關資料</p>\n      </li>\n      <i class=\"bi bi-arrow-right\"></i>\n      <li>\n        <span class=\"active\">3</span>\n        <h5 class=\"my-2\">訂單付款</h5>\n        <p class=\"text-warning\">確認資料並付款</p>\n      </li>\n      <i class=\"bi bi-arrow-right\"></i>\n      <li>\n        <span>4</span>\n        <h5 class=\"my-2\">完成訂單</h5>\n        <p class=\"text-warning\">完成訂單</p>\n      </li>\n    </ol>\n    <div class=\"row\">\n      <div class=\"col-12 col-lg-8\">\n        <div class=\"orderDetails me-md-4 mb-3 p-3 p-md-4\">\n          <h4 class=\"mb-3\">訂單明細</h4>\n          <table class=\"table\">\n            <thead>\n              <tr>\n                <th class=\"col-6\">品名</th>\n                <th class=\"col-2 text-end\">數量</th>\n                <th class=\"col-4 text-end\">單價</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"item in order.products\" :key=\"item.id\">\n                <td>{{ item.product.title }}</td>\n                <td class=\"text-end\">{{ item.qty }}</td>\n                <td class=\"text-end\">NT$ {{ $filters.currency(item.total) }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        <div class=\"orderData me-md-4 mb-5 p-3 p-md-4\">\n          <h4 class=\"mb-3\">訂單資訊</h4>\n          <table class=\"table\">\n            <tbody>\n              <tr>\n                <th class=\"col-5\">訂單日期</th>\n                <td class=\"col-7 fw-normal\">{{ $filters.date(order.create_at) }}</td>\n              </tr>\n              <tr>\n                <th class=\"col-5\">訂單編號</th>\n                <td class=\"col-7 fw-normal\">{{ order.id }}</td>\n              </tr>\n              <tr>\n                <th class=\"col-5\">付款狀態</th>\n                <td class=\"col-7 fw-normal text-success\" v-if=\"order.is_paid\">已付款</td>\n                <td class=\"col-7 fw-normal text-danger\" v-else>尚未付款</td>\n              </tr>\n              <tr>\n                <th class=\"col-5\">姓名</th>\n                <td class=\"col-7\" v-if=\"order.user\">{{ order.user.name }}</td>\n              </tr>\n              <tr>\n                <th class=\"col-5\">電話</th>\n                <td class=\"col-7\" v-if=\"order.user\">\n                  <a\n                    class=\"text-decoration-none\"\n                    :href=\"`tel:${ order.user.tel }`\"\n                    style=\"color: #000000\"\n                  >\n                    {{ order.user.tel }}\n                  </a>\n                </td>\n              </tr>\n              <tr>\n                <th class=\"col-5\">電子郵件</th>\n                <td class=\"col-7\" v-if=\"order.user\">\n                  <a\n                    class=\"text-decoration-none\"\n                    :href=\"`mailto:${order.user.email}`\"\n                    style=\"color: #000000\"\n                  >\n                    {{ order.user.email }}\n                  </a>\n                </td>\n              </tr>\n              <tr>\n                <th class=\"col-5\">收件地址</th>\n                <td class=\"col-7\" v-if=\"order.user\">{{ order.user.address }}</td>\n              </tr>\n              <tr class=\"remark\">\n                <th colspan=\"2\">\n                  訂單備註：<span class=\"fw-normal\">{{ order.message }}</span>\n                </th>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <div class=\"col-12 col-lg-4\">\n        <div class=\"cart-total\">\n          <h4 class=\"m-0 p-2 text-center bg-secondary text-light rounded-top-2\">結帳付款</h4>\n          <div class=\"card-body p-3 border\">\n            <div class=\"orderAbout mb-5\">\n              <h5 class=\"pb-2 m-0\">訂單狀態</h5>\n              <p class=\"p-2 ps-0\" style=\"font-size: 16px\">\n                訂單已成功建立，請確認您的訂單資訊是否正確，並且於下方選擇訂單付款方式。\n              </p>\n            </div>\n            <div class=\"orderAbout mb-5\">\n              <h5 class=\"pb-2 m-0\">請選擇付款方式</h5>\n              <select class=\"form-select mt-3 rounded-1\" aria-label=\"Default select example\">\n                <option selected value=\"1\">信用卡付款</option>\n                <option value=\"2\">貨到付款</option>\n                <option value=\"3\">ibon付款</option>\n                <option value=\"3\">ATM付款</option>\n              </select>\n            </div>\n            <div class=\"total d-flex align-items-center justify-content-between mt-3\">\n              <h5 class=\"m-0\">付款金額</h5>\n              <span class=\"m-0 fw-normal\">NT$ {{ $filters.currency(order.total) }}</span>\n            </div>\n          </div>\n          <div class=\"createOrder d-flex\">\n            <button\n              type=\"button\"\n              form=\"customerData\"\n              class=\"btn btn-dark w-100 rounded-0 rounded-bottom-2\"\n              @click=\"goToPay\"\n            >\n              進行付款\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport emitter from '@/methods/emitter';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      orderId: '',\n      cart: {},\n      order: {},\n      allQty: 0,\n    };\n  },\n  methods: {\n    // 取得單筆訂單列表\n    getOrder() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.isLoading = true;\n      this.$http\n        .get(api)\n        .then((res) => {\n          this.order = res.data.order;\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n\n    // 結帳付款\n    goToPay() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.isLoading = true;\n      this.$http\n        .post(api, this.orderId)\n        .then((res) => {\n          emitter.emit('updateCart'); // 與 UserNavbar 同步更新\n          this.$router.push('/userFinish');\n          this.isLoading = false;\n          this.$httpMessageState(res, '付款');\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤，請再試一次');\n          this.isLoading = false;\n        });\n    },\n\n    // 滾動到最上方\n    scrollToTop() {\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth',\n      });\n    },\n  },\n  created() {\n    // 取得訂單ID\n    this.orderId = this.$route.params.order_id;\n    this.getOrder();\n    this.scrollToTop();\n    emitter.emit('updateCart'); // 與 UserNavbar 同步更新\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\np {\n  font-size: 14px;\n}\n.orderDetails,\n.orderData {\n  border: 1px solid #888888;\n  box-shadow: 3px 3px 3px rgb(209, 209, 209, 0.4);\n  backdrop-filter: blur(5px);\n  border-radius: 5px;\n  table {\n    table-layout: fixed; // 表格佈局設定為固定\n  }\n  td{\n    word-wrap: break-word; // 自動換行防止溢出\n  }\n\n  .remark {\n    th {\n      word-wrap: break-word; // 自動換行防止溢出\n    }\n  }\n}\n.cart-total {\n  .orderAbout {\n    h5 {\n      border-bottom: 1px solid #dee2e6;\n    }\n    select {\n      border: 1px solid #dee2e6;\n      border-radius: 0;\n      &:focus {\n        outline: none;\n        box-shadow: 0px 0px 0px black;\n      }\n    }\n  }\n  h5,\n  span {\n    font-size: 18px;\n  }\n  h4,\n  button {\n    font-size: 20px;\n  }\n}\n.shoppingProcess {\n  h5{\n    font-size: 18px;\n  }\n  list-style: none;\n  li {\n    display: flex;\n    flex-direction: column;\n    text-align: center;\n    width: 25%;\n    .active {\n      background-color: #424242;\n      color: #fff;\n    }\n    span {\n      width: 35px;\n      height: 35px;\n      border-radius: 50%;\n      color: #424242;\n      font-size: 20px;\n      border: 2px solid #424242;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      margin: auto;\n      line-height: 0;\n      position: relative;\n    }\n  }\n}\n@media screen and (max-width: 767px) {\n  .shoppingProcess {\n    p {\n      display: none;\n    }\n    h5 {\n      font-size: 16px;\n    }\n  }\n  .orderDetails,\n  .orderData {\n    table {\n      tr {\n        font-size: 14px;\n      }\n    }\n  }\n}\n</style>\n","import { render } from \"./UserPay.vue?vue&type=template&id=36ce1882&scoped=true\"\nimport script from \"./UserPay.vue?vue&type=script&lang=js\"\nexport * from \"./UserPay.vue?vue&type=script&lang=js\"\n\nimport \"./UserPay.vue?vue&type=style&index=0&id=36ce1882&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36ce1882\"]])\n\nexport default __exports__"],"names":["class","_createStaticVNode","_createElementVNode","key","colspan","_createElementBlock","_Fragment","_createVNode","_component_isLoading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_renderList","order","products","item","id","_toDisplayString","product","title","_hoisted_9","qty","_hoisted_10","_ctx","$filters","currency","total","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","date","create_at","_hoisted_16","_hoisted_17","_hoisted_18","is_paid","_hoisted_19","_hoisted_20","_hoisted_21","user","_hoisted_22","name","_createCommentVNode","_hoisted_23","_hoisted_24","href","tel","style","_hoisted_25","_hoisted_26","_hoisted_27","email","_hoisted_28","_hoisted_29","_hoisted_30","address","_hoisted_31","_hoisted_32","_createTextVNode","_hoisted_33","message","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","type","form","onClick","_cache","args","$options","goToPay","data","orderId","cart","allQty","methods","getOrder","api","this","$http","get","then","res","catch","err","$httpMessageState","post","emitter","emit","$router","push","scrollToTop","window","scrollTo","top","behavior","created","$route","params","order_id","__exports__","render"],"sourceRoot":""}